{% extends "manager/manager.html.twig" %}

{% block title %}Calendario - {{ client_name }}{% endblock %}

{% block heads %}
    <link rel="stylesheet" href="/static/css/calendar/calendar.css">
    <script src="/static/js/calendar/calendar.js"></script>
{% endblock %}

{% block section_content %}
<div class="col-10">
    <div id="calendar-title">28 de Febrero de 2025</div>
    <div id="calendar"></div>
</div>
<div class="col-4"></div>
{% endblock %}

{% block scripts %}
<script>
    const config = {
        persons: [
            { id: 1, name: "Juan", color: "#4CAF50" },
            { id: 2, name: "María", color: "#2196F3" },
            { id: 3, name: "Carlos", color: "#F44336" },
            { id: 4, name: "Fran", color: "#d68910" }
        ],
        events: [
            // Eventos para Juan (personId: 1)
            {
                name: "Evento 1 - Juan",
                startDate: new Date(2025, 1, 28, 8, 0),
                endDate: new Date(2025, 1, 28, 9, 0),
                personId: 1,
                type: "appointment",
                patientName: "Carlos Mendoza"
            },
            {
                name: "Evento 2 - Juan",
                startDate: new Date(2025, 1, 28, 9, 5),
                endDate: new Date(2025, 1, 28, 10, 5),
                personId: 1,
                type: "appointment",
                patientName: "Elena Ruiz"
            },
            {
                name: "Evento 3 - Juan",
                startDate: new Date(2025, 1, 28, 10, 10),
                endDate: new Date(2025, 1, 28, 11, 10),
                personId: 1,
                type: "appointment",
                patientName: "Miguel Sánchez"
            },
            {
                name: "Evento 4 - Juan",
                startDate: new Date(2025, 1, 28, 11, 15),
                endDate: new Date(2025, 1, 28, 12, 15),
                personId: 1,
                type: "group", // Único evento de tipo group para Juan
                patientName: "Sofía López"
            },
            {
                name: "Evento 5 - Juan",
                startDate: new Date(2025, 1, 28, 14, 0),
                endDate: new Date(2025, 1, 28, 15, 0),
                personId: 1,
                type: "appointment",
                patientName: "Diego Morales"
            },
            {
                name: "Evento 6 - Juan",
                startDate: new Date(2025, 1, 28, 15, 5),
                endDate: new Date(2025, 1, 28, 16, 5),
                personId: 1,
                type: "appointment",
                patientName: "Laura Vega"
            },
            {
                name: "Evento 7 - Juan",
                startDate: new Date(2025, 1, 28, 16, 10),
                endDate: new Date(2025, 1, 28, 17, 10),
                personId: 1,
                type: "appointment",
                patientName: "Jorge Hernández"
            },
            {
                name: "Evento 8 - Juan",
                startDate: new Date(2025, 1, 28, 17, 15),
                endDate: new Date(2025, 1, 28, 18, 15),
                personId: 1,
                type: "appointment",
                patientName: "Marta Ramírez"
            },

            // Eventos para María (personId: 2)
            {
                name: "Evento 1 - María",
                startDate: new Date(2025, 1, 28, 8, 10),
                endDate: new Date(2025, 1, 28, 9, 10),
                personId: 2,
                type: "appointment",
                patientName: "Ana Torres"
            },
            {
                name: "Evento 2 - María",
                startDate: new Date(2025, 1, 28, 9, 15),
                endDate: new Date(2025, 1, 28, 10, 15),
                personId: 2,
                type: "appointment",
                patientName: "Luis García"
            },
            {
                name: "Evento 3 - María",
                startDate: new Date(2025, 1, 28, 10, 20),
                endDate: new Date(2025, 1, 28, 11, 20),
                personId: 2,
                type: "appointment",
                patientName: "Clara Domínguez"
            },
            {
                name: "Evento 4 - María",
                startDate: new Date(2025, 1, 28, 11, 25),
                endDate: new Date(2025, 1, 28, 12, 25),
                personId: 2,
                type: "group", // Único evento de tipo group para María
                patientName: "Roberto Fernández"
            },
            {
                name: "Evento 5 - María",
                startDate: new Date(2025, 1, 28, 14, 0),
                endDate: new Date(2025, 1, 28, 15, 0),
                personId: 2,
                type: "appointment",
                patientName: "Patricia López"
            },
            {
                name: "Evento 6 - María",
                startDate: new Date(2025, 1, 28, 15, 5),
                endDate: new Date(2025, 1, 28, 16, 5),
                personId: 2,
                type: "appointment",
                patientName: "Fernando Ruiz"
            },
            {
                name: "Evento 7 - María",
                startDate: new Date(2025, 1, 28, 16, 10),
                endDate: new Date(2025, 1, 28, 17, 10),
                personId: 2,
                type: "appointment",
                patientName: "Sergio Morales"
            },
            {
                name: "Evento 8 - María",
                startDate: new Date(2025, 1, 28, 17, 15),
                endDate: new Date(2025, 1, 28, 18, 15),
                personId: 2,
                type: "appointment",
                patientName: "Lucía Sánchez"
            },

            // Eventos para Carlos (personId: 3) - Todos appointment
            {
                name: "Evento 1 - Carlos",
                startDate: new Date(2025, 1, 28, 8, 0),
                endDate: new Date(2025, 1, 28, 9, 0),
                personId: 3,
                type: "appointment",
                patientName: "Esteban Ruiz"
            },
            {
                name: "Evento 2 - Carlos",
                startDate: new Date(2025, 1, 28, 9, 5),
                endDate: new Date(2025, 1, 28, 10, 5),
                personId: 3,
                type: "appointment",
                patientName: "Carla Mendoza"
            },
            {
                name: "Evento 3 - Carlos",
                startDate: new Date(2025, 1, 28, 10, 10),
                endDate: new Date(2025, 1, 28, 11, 10),
                personId: 3,
                type: "appointment",
                patientName: "Diego Márquez"
            },
            {
                name: "Evento 4 - Carlos",
                startDate: new Date(2025, 1, 28, 11, 15),
                endDate: new Date(2025, 1, 28, 12, 15),
                personId: 3,
                type: "appointment",
                patientName: "Inés Guerrero"
            },
            {
                name: "Evento 5 - Carlos",
                startDate: new Date(2025, 1, 28, 14, 0),
                endDate: new Date(2025, 1, 28, 15, 0),
                personId: 3,
                type: "appointment",
                patientName: "Alberto Morales"
            },
            {
                name: "Evento 6 - Carlos",
                startDate: new Date(2025, 1, 28, 15, 5),
                endDate: new Date(2025, 1, 28, 16, 5),
                personId: 3,
                type: "appointment",
                patientName: "Sofía Delgado"
            },
            {
                name: "Evento 7 - Carlos",
                startDate: new Date(2025, 1, 28, 16, 10),
                endDate: new Date(2025, 1, 28, 17, 10),
                personId: 3,
                type: "appointment",
                patientName: "Mario López"
            },
            {
                name: "Evento 8 - Carlos",
                startDate: new Date(2025, 1, 28, 17, 15),
                endDate: new Date(2025, 1, 28, 18, 15),
                personId: 3,
                type: "appointment",
                patientName: "Teresa Jiménez"
            },

            // Eventos para Fran (personId: 4) - Todos appointment
            {
                name: "Evento 1 - Fran",
                startDate: new Date(2025, 1, 28, 8, 5),
                endDate: new Date(2025, 1, 28, 9, 5),
                personId: 4,
                type: "appointment",
                patientName: "Ricardo Flores"
            },
            {
                name: "Evento 2 - Fran",
                startDate: new Date(2025, 1, 28, 9, 10),
                endDate: new Date(2025, 1, 28, 10, 10),
                personId: 4,
                type: "appointment",
                patientName: "Isabel Romero"
            },
            {
                name: "Evento 3 - Fran",
                startDate: new Date(2025, 1, 28, 10, 15),
                endDate: new Date(2025, 1, 28, 11, 15),
                personId: 4,
                type: "appointment",
                patientName: "Julio Castillo"
            },
            {
                name: "Evento 4 - Fran",
                startDate: new Date(2025, 1, 28, 11, 20),
                endDate: new Date(2025, 1, 28, 12, 20),
                personId: 4,
                type: "appointment",
                patientName: "Carmen Serrano"
            },
            {
                name: "Evento 5 - Fran",
                startDate: new Date(2025, 1, 28, 14, 0),
                endDate: new Date(2025, 1, 28, 15, 0),
                personId: 4,
                type: "appointment",
                patientName: "Fernando Ríos"
            },
            {
                name: "Evento 6 - Fran",
                startDate: new Date(2025, 1, 28, 15, 5),
                endDate: new Date(2025, 1, 28, 16, 5),
                personId: 4,
                type: "appointment",
                patientName: "Silvia Navarro"
            },
            {
                name: "Evento 7 - Fran",
                startDate: new Date(2025, 1, 28, 16, 10),
                endDate: new Date(2025, 1, 28, 17, 10),
                personId: 4,
                type: "appointment",
                patientName: "Óscar Gutiérrez"
            },
            {
                name: "Evento 8 - Fran",
                startDate: new Date(2025, 1, 28, 17, 15),
                endDate: new Date(2025, 1, 28, 18, 15),
                personId: 4,
                type: "appointment",
                patientName: "Verónica Peña"
            }
        ],
        timeRange: {
            start: 8,
            end: 21
        },
        gridSize: 15,
        theme: {
            backgroundColor: '{{ primaryColor | mix_color("#FFFFFF", 15) }}',
            borderRadius: '{{ borderRadius }}',
            borderColor: '{{ borderColor }}'
        }
    };

    const calendar = new DailyCalendar('#calendar', config);

</script>
{% endblock %}
{% block styles %}
{{ parent() }}
    #calendar-title {
        display: flex;
        font-size: 2rem;
        font-weight: 500;
        margin-bottom: 1rem;
        justify-content: center;
    }
{% endblock %}